doctype html
head
  meta(charset='utf-8')
  meta(name='x-apple-disable-message-reformatting')
  meta(http-equiv='x-ua-compatible' content='ie=edge')
  meta(name='viewport' content='width=device-width, initial-scale=1')
  meta(name='format-detection' content='telephone=no, date=no, address=no, email=no')
  link(href='https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap' rel='stylesheet' media='screen')
  style.
    .title:hover * {
    text-decoration: underline;
    }
    @media only screen and (max-width:600px) {
    table {
    font-size: 20px !important;
    width: 100% !important;
    }
    }
div(style='display: block; background-color: #111827; padding: 2.5rem 0;')
  table(style='margin: 0 auto; font-family: Inter, Arial, sans-serif; color: #fff; font-size: 16px; width: 26rem;')
    tr
      td(style="text-align: center;")
        if applicationUrl
          a(href=applicationUrl style='margin: 0 1rem;')
            img(src=applicationUrl +'/logo_full.png' style='width: 26rem; image-rendering: crisp-edges; image-rendering: -webkit-optimize-contrast;')
        else
          div(style='margin: 0 1rem 2.5rem; font-size: 3em; font-weight: 700;')
            | #{applicationTitle}
    if recipientName !== recipientEmail
      tr
        td(style='text-align: center;')
          div(style='margin: 1rem 0 0; font-size: 1.25em;')
            - var formattedName = recipientName.split('.')[0].charAt(0).toUpperCase() + recipientName.split('.')[0].slice(1)
            | Hi, #{formattedName.replace(/\.|@/g, ((x) => x + '\ufeff'))}!
    tr
      td(style='text-align: center;')
        div(style='margin: 1rem 0 0; font-size: 1.25em;')
          | Your Jellyfin account has been created.
    tr
      td(style='text-align: center; padding: 10px 0;')
        div(style='margin: 15px 0; padding: 15px; background-color: #1f2937; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);')
          div(style='margin-bottom: 10px; font-size: 1.1em; opacity: 0.7;') Username
          div(style='font-family: monospace; font-size: 1.2em; font-weight: 600; word-break: break-all;')
            | #{recipientName}
          div(style='height: 1px; background-color: rgba(255,255,255,0.1); margin: 15px 0;')
          div(style='margin-bottom: 10px; font-size: 1.1em; opacity: 0.7;') Password
          div(style='font-family: monospace; font-size: 1.2em; font-weight: 600; word-break: break-all;')
            | #{password}
    tr
      td(style='text-align: center; padding: 20px 10px 10px;')
        div(style='margin: 15px 0; padding: 15px; background-color: #1f2937; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);')
          div(style='margin-bottom: 10px; font-size: 1.1em; font-weight: 600; color: rgb(129, 140, 248);') How it works ?
          div(style='font-size: 0.95em; text-align: left; line-height: 1.4;')
            p(style='color: rgb(165, 165, 165);') Your account works with two connected applications:
            ul(style='padding-left: 20px; margin: 10px 0;')
              li
                strong(style='color: rgb(129, 140, 248);') Jellyfin:
                |  The media server where you can watch movies, TV shows, and listen to music.
              li
                strong(style='color: rgb(129, 140, 248);') Jellyseerr:
                |  The request system where you can browse and request new content, check your request status, and manage your subscription.
            p(style='margin-top: 10px; color: rgb(165, 165, 165);') These credentials work for both services, providing a seamless experience across our media platform.
            if externalHostname
              div(style='margin-top: 10px; padding: 10px; background-color: rgba(129, 140, 248, 0.1); border-left: 3px solid rgb(129, 140, 248); border-radius: 4px;')
                p(style='margin: 0; font-size: 0.95em; color: rgb(165, 165, 165);')
                  strong(style='color: rgb(129, 140, 248);') Jellyfin App Setup:
                  |  When connecting via the Jellyfin app on your TV or smartphone, use
                  strong(style='font-family: monospace; color: #fff;') #{externalHostname}
                  |  as server address.
      tr
        td(style='padding: 20px 10px 10px;')
          div(style='display: flex; flex-direction: column; gap: 15px;')
            if externalHostname
              a(href=externalHostname style='text-decoration: none; font-size: 1.0em; line-height: 2.25em;')
                span(style='padding: 0.2rem; font-weight: 500; text-align: center; border-radius: 10px; background-color: rgb(99,102,241); color: #fff; display: block; border: 1px solid rgba(255,255,255,0.2);')
                  | Open #{name}
            if applicationUrl
              a(href=applicationUrl style='text-decoration: none; font-size: 1.0em; line-height: 2.25em;')
                span(style='padding: 0.2rem; font-weight: 500; text-align: center; border-radius: 10px; background-color: rgb(99,102,241); color: #fff; display: block; border: 1px solid rgba(255,255,255,0.2);')
                  | Open #{applicationTitle}
